!function(){"use strict";angular.module("angular-funky-button",[]),angular.module("angular-funky-button").provider("funkyButton",function(){var s=this;this.dismissConfirm=5e3,this.dismissSuccess=2500,this.dismissError=2500,this.setWorkingTimeout=100,this.classes={},this.$get=[function(){return{options:{dismissConfirm:s.dismissConfirm,dismissSuccess:s.dismissSuccess,dismissError:s.dismissError,setWorkingTimeout:s.setWorkingTimeout,classes:s.classes}}}]})}(),function(){"use strict";function s(s){return{priority:1,restrict:"A",scope:{funkyButton:"=funkyButton",fubuClick:"&fubuClick"},transclude:!0,link:s,controller:"FunkyButtonController"}}angular.module("angular-funky-button").directive("funkyButton",s),s.$inject=["FunkyButtonLinker"]}(),function(){"use strict";function s(s,e,u,t,o){function r(){if(n(),s.options.hasSuccessElement===!0){s.fubuStateHelper.setSuccess();var e=s.options.dismissSuccess;"function"==typeof e&&(e=e(s.$parent)),e===!1?S=s.$watch(function(){return s.options.dismissSuccess(s.$parent)},function(e){e===!0&&(S(),s.fubuStateHelper.setDefault())}):e===!0?s.fubuStateHelper.setDefault():0===e||(w=o(function(){s.fubuStateHelper.setDefault()},s.options.dismissSuccess))}else s.fubuStateHelper.setDefault()}function n(){void 0!==E&&o.cancel(E)}function i(){if(n(),s.options.hasErrorElement===!0){s.fubuStateHelper.setError();var e=s.options.dismissError;"function"==typeof e&&(e=e(s.$parent)),e===!1?y=s.$watch(function(){return s.options.dismissError(s.$parent)},function(e){e===!0&&(y(),s.fubuStateHelper.setDefault())}):e===!0?s.fubuStateHelper.setDefault():0===e||(w=o(function(){s.fubuStateHelper.setDefault()},s.options.dismissError))}else s.fubuStateHelper.setDefault()}function a(){s.options.hasConfirmElement===!0?c():f()}function c(){s.fubuStateHelper.setConfirm(),0!==s.options.dismissConfirm&&s.options.dismissConfirm!==!1&&(k=o(function(){s.fubuStateHelper.setDefault()},s.options.dismissConfirm))}function f(){m()}function l(){void 0!==k&&o.cancel(k),m()}function m(){E=o(s.fubuStateHelper.setWorking,s.options.setWorkingTimeout);var e=s.fubuClick();e===!1?i():"object"==typeof e&&void 0!==e.then&&"function"==typeof e.then?e.then(r,i):r()}function b(){void 0!==g&&o.cancel(g),s.fubuStateHelper.setDefault()}function d(){if(void 0!==s.options.dismissError&&"function"==typeof s.options.dismissError){var e=s.options.dismissError(s.$parent);e!==!1&&b()}else s.options.dismissError!==!1&&b()}function p(){void 0!==w&&o.cancel(w),s.fubuStateHelper.setDefault()}function C(){if(void 0!==s.options.dismissSuccess&&"function"==typeof s.options.dismissSuccess){var e=s.options.dismissSuccess(s.$parent);e!==!1&&p()}else s.options.dismissSuccess!==!1&&p()}function h(){}function v(){switch(s.fubu.state){case"default":a();break;case"confirm":l();break;case"error":d();break;case"success":C();break;case"working":h()}}s.options=angular.copy(u.options),s.fubu={},void 0!==s.funkyButton&&(s.funkyButton=s.fubu),s.fubu.dismissError=function(){void 0!==g&&o.cancel(g),s.fubuStateHelper.setDefault()},s.fubu.dismissSuccess=function(){void 0!==w&&o.cancel(w),s.fubuStateHelper.setDefault()},s.fubu.click=function(){v()},s.showDefault=!1,s.showConfirm=!1,s.showWorking=!1,s.showSuccess=!1,s.showError=!1,s.fubu.state="default";var k,w,g;s.fubuStateHelper=new t(s,e,s.options);var S,y,E;s.rawClickHandler=function(){s.$apply(function(){v()})}}angular.module("angular-funky-button").controller("FunkyButtonController",s),s.$inject=["$scope","$element","funkyButton","FunkyButtonStateHelper","$timeout"]}(),function(){"use strict";function s(s,e,u){function t(s){return s.charAt(0).toUpperCase()+s.slice(1)}function o(e,o,r,n){var i=angular.element("<"+r.nodeName+"></"+r.nodeName+">");i.attr("ng-show","show"+t(n)+" === true"),s(i)(e),e.options["has"+t(n)+"Element"]=!0,r.hasAttribute("fubu-dismiss")===!0&&(e.options["dismiss"+t(n)]=u(r.getAttribute("fubu-dismiss")),r.removeAttribute("fubu-dismiss")),r.hasAttribute("fubu-class")===!0&&(e.options.classes[n]=r.getAttribute("fubu-class"),e.options["has"+t(n)+"Element"]=!0,r.removeAttribute("fubu-class")),r.removeAttribute("fubu-"+n),i.append(r),o.append(i)}return function(s,u,t,r,n){u.addClass("funky-button"),n(function(e){angular.forEach(e,function(e){1===e.nodeType&&(e.hasAttribute("fubu-default")===!0?o(s,u,e,"default"):e.hasAttribute("fubu-confirm")===!0?o(s,u,e,"confirm"):e.hasAttribute("fubu-working")===!0?o(s,u,e,"working"):e.hasAttribute("fubu-success")===!0?o(s,u,e,"success"):e.hasAttribute("fubu-error")===!0&&o(s,u,e,"error"))})}),angular.merge(s.options,e.options),s.fubuStateHelper.setDefault(),u.bind("click",s.rawClickHandler)}}angular.module("angular-funky-button").factory("FunkyButtonLinker",s),s.$inject=["$compile","funkyButton","$parse"]}(),function(){"use strict";angular.module("angular-funky-button").factory("FunkyButtonStateHelper",[function(){function s(s,e,u){this.setDefault=function(){e[0].blur(),s.fubu.state="default",e.removeClass(u.classes.confirm),e.removeClass("fubu-confirm"),e.removeClass(u.classes.working),e.removeClass("fubu-working"),e.removeClass(u.classes.success),e.removeClass("fubu-success"),e.removeClass(u.classes.error),e.removeClass("fubu-error"),e.addClass(u.classes["default"]),e.addClass("fubu-default"),s.showDefault=!0,s.showConfirm=!1,s.showWorking=!1,s.showSuccess=!1,s.showError=!1},this.setConfirm=function(){e[0].blur(),s.fubu.state="confirm",e.removeClass(u.classes["default"]),e.removeClass("fubu-default"),e.removeClass(u.classes.working),e.removeClass("fubu-working"),e.removeClass(u.classes.success),e.removeClass("fubu-success"),e.removeClass(u.classes.error),e.removeClass("fubu-error"),e.addClass(u.classes.confirm),e.addClass("fubu-confirm"),s.showDefault=!1,s.showConfirm=!0,s.showWorking=!1,s.showSuccess=!1,s.showError=!1},this.setWorking=function(){e[0].blur(),s.fubu.state="working",e.removeClass(u.classes["default"]),e.removeClass("fubu-default"),e.removeClass(u.classes.confirm),e.removeClass("fubu-confirm"),e.removeClass(u.classes.success),e.removeClass("fubu-success"),e.removeClass(u.classes.error),e.removeClass("fubu-error"),e.addClass(u.classes.working),e.addClass("fubu-working"),s.showDefault=!1,s.showConfirm=!1,s.showWorking=!0,s.showSuccess=!1,s.showError=!1},this.setSuccess=function(){e[0].blur(),s.fubu.state="success",e.removeClass(u.classes["default"]),e.removeClass("fubu-default"),e.removeClass(u.classes.confirm),e.removeClass("fubu-confirm"),e.removeClass(u.classes.working),e.removeClass("fubu-working"),e.removeClass(u.classes.error),e.removeClass("fubu-error"),e.addClass(u.classes.success),e.addClass("fubu-success"),s.showDefault=!1,s.showConfirm=!1,s.showWorking=!1,s.showSuccess=!0,s.showError=!1},this.setError=function(){e[0].blur(),s.fubu.state="error",e.removeClass(u.classes["default"]),e.removeClass("fubu-default"),e.removeClass(u.classes.confirm),e.removeClass("fubu-confirm"),e.removeClass(u.classes.working),e.removeClass("fubu-working"),e.removeClass(u.classes.success),e.removeClass("fubu-success"),e.addClass(u.classes.error),e.addClass("fubu-error"),s.showDefault=!1,s.showConfirm=!1,s.showWorking=!1,s.showSuccess=!1,s.showError=!0}}return s}])}();
//# sourceMappingURL=angular-funky-button.min.js.map
