{"version":3,"sources":["angular-funky-button.min.js"],"names":["angular","module","provider","self","this","dismissConfirm","dismissSuccess","dismissError","setWorkingTimeout","classes","$get","options","directive","FunkyButtonLinker","priority","restrict","scope","funkyButton","fubuClick","transclude","link","controller","$scope","$element","FunkyButtonStateHelper","$timeout","onWorkSuccess","cancelSetWorkingTimeout","hasSuccessElement","fubuStateHelper","setSuccess","$parent","urDismissSuccessWatch","$watch","setDefault","successTimeoutPromise","undefined","setWorkingTimeoutPromise","cancel","onWorkError","hasErrorElement","setError","urDismissErrorWatch","clickHandlerDefault","hasConfirmElement","clickHandlerDefaultWithConfirmElement","clickHandlerDefaultWithoutConfirmElement","setConfirm","confirmTimeoutPromise","clickHandlerConfirm","setWorking","result","then","Error","errorToDefault","errorTimeoutPromise","clickHandlerError","successToDefault","clickHandlerSuccess","clickHandlerWorking","onClick","fubu","state","copy","click","showDefault","showConfirm","showWorking","showSuccess","showError","rawClickHandler","$apply","factory","$compile","FunkyButtonOptionsHelper","$parse","capitalizeFirstLetter","string","charAt","toUpperCase","slice","linkFunkyElement","element","funkyElement","funkyType","wrapperElement","nodeName","attr","hasAttribute","getAttribute","removeAttribute","append","attributes","addClass","clone","forEach","nodeType","mergeOptions","bind","blur","removeClass","confirm","working","success","error","defaults","mergedOptions","value","prop"],"mappings":"AACAA,QAAQC,OAAO,2BAEfD,QAAQC,OAAO,wBAAwBC,SACnC,cACA,WAEI,GAAIC,GAAOC,IAEXA,MAAKC,eAAiB,IACtBD,KAAKE,eAAiB,KACtBF,KAAKG,aAAe,KACpBH,KAAKI,kBAAoB,IAEzBJ,KAAKK,WAILL,KAAKM,MACD,WACI,OACIC,SACIN,eAAgBF,EAAKE,eACrBC,eAAgBH,EAAKG,eACrBC,aAAcJ,EAAKI,aACnBC,kBAAmBL,EAAKK,kBACxBC,QAASN,EAAKM,cAStCT,QAAQC,OAAO,wBAAwBW,UACnC,eAEI,oBACA,SAASC,GACL,OACIC,SAAU,EACVC,SAAU,IACVC,OACIC,YAAa,eACbC,UAAW,cAEfC,YAAY,EACZC,KAAMP,EACNQ,WAAY,4BAO5BrB,QAAQC,OAAO,wBAAwBoB,WACnC,yBAEI,SAAU,WAAY,cAAe,yBAA0B,WAC/D,SAASC,EAAQC,EAAUN,EAAaO,EAAwBC,GA6C5D,QAASC,KAGL,GAFAC,IAEIL,EAAOX,QAAQiB,qBAAsB,EAAM,CAC3CN,EAAOO,gBAAgBC,YAEvB,IAAIxB,GAAiBgB,EAAOX,QAAQL,cACN,mBAAnBA,KACPA,EAAiBA,EAAegB,EAAOS,UAGvCzB,KAAmB,EACnB0B,EAAwBV,EAAOW,OAAO,WAAc,MAAOX,GAAOX,QAAQL,eAAegB,EAAOS,UAAY,SAASzB,GAC7GA,KAAmB,IACnB0B,IACAV,EAAOO,gBAAgBK,gBAGxB5B,KAAmB,EAC1BgB,EAAOO,gBAAgBK,aACG,IAAnB5B,IAGP6B,EAAwBV,EAAS,WAC7BH,EAAOO,gBAAgBK,cACxBZ,EAAOX,QAAQL,qBAItBgB,GAAOO,gBAAgBK,aAI/B,QAASP,KAC4BS,SAA7BC,GACAZ,EAASa,OAAOD,GAKxB,QAASE,KAGL,GAFAZ,IAEIL,EAAOX,QAAQ6B,mBAAoB,EAAM,CACzClB,EAAOO,gBAAgBY,UAEvB,IAAIlC,GAAee,EAAOX,QAAQJ,YACN,mBAAjBA,KACPA,EAAeA,EAAae,EAAOS,UAGnCxB,KAAiB,EACjBmC,EAAsBpB,EAAOW,OAAO,WAAc,MAAOX,GAAOX,QAAQJ,aAAae,EAAOS,UAAY,SAASxB,GACzGA,KAAiB,IACjBmC,IACApB,EAAOO,gBAAgBK,gBAGxB3B,KAAiB,EACxBe,EAAOO,gBAAgBK,aACC,IAAjB3B,IAGP4B,EAAwBV,EAAS,WAC7BH,EAAOO,gBAAgBK,cACxBZ,EAAOX,QAAQJ,mBAItBe,GAAOO,gBAAgBK,aAI/B,QAASS,KACDrB,EAAOX,QAAQiC,qBAAsB,EACrCC,IAEAC,IAIR,QAASD,KACLvB,EAAOO,gBAAgBkB,aAEe,IAAlCzB,EAAOX,QAAQN,gBAAwBiB,EAAOX,QAAQN,kBAAmB,IACzE2C,EAAwBvB,EAAS,WAC7BH,EAAOO,gBAAgBK,cACxBZ,EAAOX,QAAQN,iBAI1B,QAASyC,KACL5B,IAGJ,QAAS+B,KACyBb,SAA1BY,GACAvB,EAASa,OAAOU,GAEpB9B,IAIJ,QAASA,KAELmB,EAA2BZ,EAASH,EAAOO,gBAAgBqB,WAAY5B,EAAOX,QAAQH,kBAEtF,IAAI2C,GAAS7B,EAAOJ,WACpB,IAAIiC,KAAW,EACXZ,QACG,IAAIY,KAAW,EAClBzB,QACG,CAAA,GAAoBU,SAAhBe,EAAOC,MAA6C,kBAAhBD,GAAOC,KAGlD,KAAM,IAAIC,OAAM,2DAFhBF,GAAOC,KAAK1B,EAAea,IAMnC,QAASe,KACuBlB,SAAxBmB,GACA9B,EAASa,OAAOiB,GAEpBjC,EAAOO,gBAAgBK,aAG3B,QAASsB,KACL,GAAoCpB,SAAhCd,EAAOX,QAAQJ,cAAqE,kBAAhCe,GAAOX,QAAQJ,aAA6B,CAChG,GAAIA,GAAee,EAAOX,QAAQJ,aAAae,EAAOS,QAClDxB,MAAiB,GACjB+C,QAGAhC,GAAOX,QAAQJ,gBAAiB,GAChC+C,IAKZ,QAASG,KACyBrB,SAA1BD,GACAV,EAASa,OAAOH,GAEpBb,EAAOO,gBAAgBK,aAG3B,QAASwB,KACL,GAAsCtB,SAAlCd,EAAOX,QAAQL,gBAAyE,kBAAlCgB,GAAOX,QAAQL,eAA+B,CACpG,GAAIA,GAAiBgB,EAAOX,QAAQL,eAAegB,EAAOS,QACtDzB,MAAmB,GACnBmD,QAGAnC,GAAOX,QAAQL,kBAAmB,GAClCmD,IAKZ,QAASE,MAGT,QAASC,KACL,OAAQtC,EAAOuC,KAAKC,OAChB,IAAK,UACDnB,GACA,MACJ,KAAK,UACDM,GACA,MACJ,KAAK,QACDO,GACA,MACJ,KAAK,UACDE,GACA,MACJ,KAAK,UACDC,KA5NZrC,EAAOX,QAAUX,QAAQ+D,KAAK9C,EAAYN,SAE1CW,EAAOuC,QAEoBzB,SAAvBd,EAAOL,cACPK,EAAOL,YAAcK,EAAOuC,MAGhCvC,EAAOuC,KAAKtD,aAAe,WACK6B,SAAxBmB,GACA9B,EAASa,OAAOiB,GAEpBjC,EAAOO,gBAAgBK,cAG3BZ,EAAOuC,KAAKvD,eAAiB,WACK8B,SAA1BD,GACAV,EAASa,OAAOH,GAEpBb,EAAOO,gBAAgBK,cAG3BZ,EAAOuC,KAAKG,MAAQ,WAChBJ,KAGJtC,EAAO2C,aAAc,EACrB3C,EAAO4C,aAAc,EACrB5C,EAAO6C,aAAc,EACrB7C,EAAO8C,aAAc,EACrB9C,EAAO+C,WAAY,EAEnB/C,EAAOuC,KAAKC,MAAQ,SAEpB,IAAId,GAEAb,EAEAoB,CAEJjC,GAAOO,gBAAkB,GAAIL,GAAuBF,EAAQC,EAAUD,EAAOX,QAE7E,IAAIqB,GAwCAU,EA+DAL,CAiFJf,GAAOgD,gBAAkB,WACrBhD,EAAOiD,OACH,WACIX,UAQxB5D,QAAQC,OAAO,wBAAwBuE,QACnC,qBAEI,WAAY,cAAe,2BAA4B,SACvD,SAASC,EAAUxD,EAAayD,EAA0BC,GAEtD,QAASC,GAAsBC,GAC3B,MAAOA,GAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,GAGzD,QAASC,GAAiBjE,EAAOkE,EAASC,EAAcC,GACpD,GAAIC,GAAiBrF,QAAQkF,QAAQ,IAAMC,EAAaG,SAAW,MAAQH,EAAaG,SAAW,IACnGD,GAAeE,KAAK,UAAW,OAASX,EAAsBQ,GAAa,aAC3EX,EAASY,GAAgBrE,GAEzBA,EAAML,QAAQ,MAAQiE,EAAsBQ,GAAa,YAAa,EAElED,EAAaK,aAAa,mBAAoB,IAC9CxE,EAAML,QAAQ,UAAYiE,EAAsBQ,IAAcT,EAAOQ,EAAaM,aAAa,iBAC/FN,EAAaO,gBAAgB,iBAG7BP,EAAaK,aAAa,iBAAkB,IAC5CxE,EAAML,QAAQF,QAAQ2E,GAAaD,EAAaM,aAAa,cAC7DzE,EAAML,QAAQ,MAAQiE,EAAsBQ,GAAa,YAAa,EACtED,EAAaO,gBAAgB,eAGjCP,EAAaO,gBAAgB,QAAUN,GACvCC,EAAeM,OAAOR,GAEtBD,EAAQS,OAAON,GAGnB,MAAO,UAASrE,EAAOkE,EAASU,EAAYvE,EAAYF,GACpD+D,EAAQW,SAAS,gBAEjB1E,EAAW,SAAS2E,GAChB9F,QAAQ+F,QAAQD,EAAO,SAASX,GAEE,IAA1BA,EAAaa,WACTb,EAAaK,aAAa,mBAAoB,EAC9CP,EAAiBjE,EAAOkE,EAASC,EAAc,WACxCA,EAAaK,aAAa,mBAAoB,EACrDP,EAAiBjE,EAAOkE,EAASC,EAAc,WACxCA,EAAaK,aAAa,mBAAoB,EACrDP,EAAiBjE,EAAOkE,EAASC,EAAc,WACxCA,EAAaK,aAAa,mBAAoB,EACrDP,EAAiBjE,EAAOkE,EAASC,EAAc,WACxCA,EAAaK,aAAa,iBAAkB,GACnDP,EAAiBjE,EAAOkE,EAASC,EAAc,cAO/DnE,EAAML,QAAU+D,EAAyBuB,aAAahF,EAAYN,QAASK,EAAML,SAEjFK,EAAMa,gBAAgBK,aAEtBgD,EAAQgB,KAAK,QAASlF,EAAMsD,qBAO5CtE,QAAQC,OAAO,wBAAwBuE,QACnC,0BAEI,WAEI,QAAShD,GAAuBF,EAAQC,EAAUZ,GAC9CP,KAAK8B,WAAa,WACdX,EAAS,GAAG4E,OAEZ7E,EAAOuC,KAAKC,MAAQ,UAEpBvC,EAAS6E,YAAYzF,EAAQF,QAAQ4F,SACrC9E,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ6F,SACrC/E,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ8F,SACrChF,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ+F,OACrCjF,EAAS6E,YAAY,cAErB7E,EAASsE,SAASlF,EAAQF,QAARE,YAClBY,EAASsE,SAAS,gBAElBvE,EAAO2C,aAAc,EACrB3C,EAAO4C,aAAc,EACrB5C,EAAO6C,aAAc,EACrB7C,EAAO8C,aAAc,EACrB9C,EAAO+C,WAAY,GAGvBjE,KAAK2C,WAAa,WACdxB,EAAS,GAAG4E,OAEZ7E,EAAOuC,KAAKC,MAAQ,UAEpBvC,EAAS6E,YAAYzF,EAAQF,QAARE,YACrBY,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ6F,SACrC/E,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ8F,SACrChF,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ+F,OACrCjF,EAAS6E,YAAY,cAErB7E,EAASsE,SAASlF,EAAQF,QAAQ4F,SAClC9E,EAASsE,SAAS,gBAElBvE,EAAO2C,aAAc,EACrB3C,EAAO4C,aAAc,EACrB5C,EAAO6C,aAAc,EACrB7C,EAAO8C,aAAc,EACrB9C,EAAO+C,WAAY,GAGvBjE,KAAK8C,WAAa,WACd3B,EAAS,GAAG4E,OAEZ7E,EAAOuC,KAAKC,MAAQ,UAEpBvC,EAAS6E,YAAYzF,EAAQF,QAARE,YACrBY,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ4F,SACrC9E,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ8F,SACrChF,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ+F,OACrCjF,EAAS6E,YAAY,cAErB7E,EAASsE,SAASlF,EAAQF,QAAQ6F,SAClC/E,EAASsE,SAAS,gBAElBvE,EAAO2C,aAAc,EACrB3C,EAAO4C,aAAc,EACrB5C,EAAO6C,aAAc,EACrB7C,EAAO8C,aAAc,EACrB9C,EAAO+C,WAAY,GAGvBjE,KAAK0B,WAAa,WACdP,EAAS,GAAG4E,OAEZ7E,EAAOuC,KAAKC,MAAQ,UAEpBvC,EAAS6E,YAAYzF,EAAQF,QAARE,YACrBY,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ4F,SACrC9E,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ6F,SACrC/E,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ+F,OACrCjF,EAAS6E,YAAY,cAErB7E,EAASsE,SAASlF,EAAQF,QAAQ8F,SAClChF,EAASsE,SAAS,gBAElBvE,EAAO2C,aAAc,EACrB3C,EAAO4C,aAAc,EACrB5C,EAAO6C,aAAc,EACrB7C,EAAO8C,aAAc,EACrB9C,EAAO+C,WAAY,GAGvBjE,KAAKqC,SAAW,WACZlB,EAAS,GAAG4E,OAEZ7E,EAAOuC,KAAKC,MAAQ,QAEpBvC,EAAS6E,YAAYzF,EAAQF,QAARE,YACrBY,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ4F,SACrC9E,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ6F,SACrC/E,EAAS6E,YAAY,gBACrB7E,EAAS6E,YAAYzF,EAAQF,QAAQ8F,SACrChF,EAAS6E,YAAY,gBAErB7E,EAASsE,SAASlF,EAAQF,QAAQ+F,OAClCjF,EAASsE,SAAS,cAElBvE,EAAO2C,aAAc,EACrB3C,EAAO4C,aAAc,EACrB5C,EAAO6C,aAAc,EACrB7C,EAAO8C,aAAc,EACrB9C,EAAO+C,WAAY,GAI3B,MAAO7C,MAMnBxB,QAAQC,OAAO,wBAAwBuE,QACnC,2BACA,WACI,OACIyB,aAAc,SAASQ,EAAU9F,GAC7B,GAAIR,GAAOC,KAEPsG,EAAgB1G,QAAQ+D,KAAK0C,EAYjC,OAVuB,gBAAZ9F,IACPX,QAAQ+F,QAAQpF,EAAS,SAASgG,EAAOC,GAEjCF,EAAcE,GADE,gBAATA,GACezG,EAAK8F,aAAaQ,EAASG,GAAOA,GAElCD,IAK3BD","file":"angular-funky-button.min.js","sourcesContent":["\nangular.module('angular-funky-button', []);\n\nangular.module('angular-funky-button').provider(\n    'funkyButton',\n    function FunkyButtonProvider() {\n\n        var self = this;\n\n        this.dismissConfirm = 5000;\n        this.dismissSuccess = 2500;\n        this.dismissError = 2500;\n        this.setWorkingTimeout = 100;\n\n        this.classes = {\n\n        };\n\n        this.$get = [\n            function() {\n                return {\n                    options: {\n                        dismissConfirm: self.dismissConfirm,\n                        dismissSuccess: self.dismissSuccess,\n                        dismissError: self.dismissError,\n                        setWorkingTimeout: self.setWorkingTimeout,\n                        classes: self.classes\n                    }\n                };\n            }\n        ];\n    }\n);\n\n\nangular.module('angular-funky-button').directive(\n    'funkyButton',\n    [\n        'FunkyButtonLinker',\n        function(FunkyButtonLinker) {\n            return {\n                priority: 1,\n                restrict: 'A',\n                scope: {\n                    funkyButton: '=funkyButton',\n                    fubuClick: '&fubuClick'\n                },\n                transclude: true,\n                link: FunkyButtonLinker,\n                controller: 'FunkyButtonController'\n            };\n        }\n    ]\n);\n\n\nangular.module('angular-funky-button').controller(\n    'FunkyButtonController',\n    [\n        '$scope', '$element', 'funkyButton', 'FunkyButtonStateHelper', '$timeout',\n        function($scope, $element, funkyButton, FunkyButtonStateHelper, $timeout) {\n\n            $scope.options = angular.copy(funkyButton.options);\n\n            $scope.fubu = {};\n\n            if ($scope.funkyButton !== undefined) {\n                $scope.funkyButton = $scope.fubu;\n            }\n\n            $scope.fubu.dismissError = function() {\n                if (errorTimeoutPromise !== undefined) {\n                    $timeout.cancel(errorTimeoutPromise);\n                }\n                $scope.fubuStateHelper.setDefault();\n            };\n\n            $scope.fubu.dismissSuccess = function() {\n                if (successTimeoutPromise !== undefined) {\n                    $timeout.cancel(successTimeoutPromise);\n                }\n                $scope.fubuStateHelper.setDefault();\n            };\n\n            $scope.fubu.click = function() {\n                onClick();\n            };\n\n            $scope.showDefault = false;\n            $scope.showConfirm = false;\n            $scope.showWorking = false;\n            $scope.showSuccess = false;\n            $scope.showError = false;\n\n            $scope.fubu.state = 'default';\n\n            var confirmTimeoutPromise;\n\n            var successTimeoutPromise;\n\n            var errorTimeoutPromise;\n\n            $scope.fubuStateHelper = new FunkyButtonStateHelper($scope, $element, $scope.options);\n\n            var urDismissSuccessWatch;\n            function onWorkSuccess() {\n                cancelSetWorkingTimeout();\n\n                if ($scope.options.hasSuccessElement === true) {\n                    $scope.fubuStateHelper.setSuccess();\n\n                    var dismissSuccess = $scope.options.dismissSuccess;\n                    if (typeof dismissSuccess === 'function') {\n                        dismissSuccess = dismissSuccess($scope.$parent);\n                    }\n\n                    if (dismissSuccess === false) {\n                        urDismissSuccessWatch = $scope.$watch(function() {  return $scope.options.dismissSuccess($scope.$parent) }, function(dismissSuccess) {\n                            if (dismissSuccess === true) {\n                                urDismissSuccessWatch();\n                                $scope.fubuStateHelper.setDefault();\n                            }\n                        });\n                    } else if (dismissSuccess === true) {\n                        $scope.fubuStateHelper.setDefault();\n                    } else if (dismissSuccess === 0) {\n\n                    } else {\n                        successTimeoutPromise = $timeout(function () {\n                            $scope.fubuStateHelper.setDefault();\n                        }, $scope.options.dismissSuccess);\n                    }\n\n                } else {\n                    $scope.fubuStateHelper.setDefault();\n                }\n            }\n\n            function cancelSetWorkingTimeout() {\n                if (setWorkingTimeoutPromise !== undefined) {\n                    $timeout.cancel(setWorkingTimeoutPromise);\n                }\n            }\n\n            var urDismissErrorWatch;\n            function onWorkError() {\n                cancelSetWorkingTimeout();\n\n                if ($scope.options.hasErrorElement === true) {\n                    $scope.fubuStateHelper.setError();\n\n                    var dismissError = $scope.options.dismissError;\n                    if (typeof dismissError === 'function') {\n                        dismissError = dismissError($scope.$parent);\n                    }\n\n                    if (dismissError === false) {\n                        urDismissErrorWatch = $scope.$watch(function() {  return $scope.options.dismissError($scope.$parent) }, function(dismissError) {\n                            if (dismissError === true) {\n                                urDismissErrorWatch();\n                                $scope.fubuStateHelper.setDefault();\n                            }\n                        });\n                    } else if (dismissError === true) {\n                        $scope.fubuStateHelper.setDefault();\n                    } else if (dismissError === 0) {\n\n                    } else {\n                        successTimeoutPromise = $timeout(function () {\n                            $scope.fubuStateHelper.setDefault();\n                        }, $scope.options.dismissError);\n                    }\n\n                } else {\n                    $scope.fubuStateHelper.setDefault();\n                }\n            }\n\n            function clickHandlerDefault() {\n                if ($scope.options.hasConfirmElement === true) {\n                    clickHandlerDefaultWithConfirmElement();\n                } else {\n                    clickHandlerDefaultWithoutConfirmElement();\n                }\n            }\n\n            function clickHandlerDefaultWithConfirmElement() {\n                $scope.fubuStateHelper.setConfirm();\n\n                if ($scope.options.dismissConfirm !== 0 && $scope.options.dismissConfirm !== false) {\n                    confirmTimeoutPromise = $timeout(function() {\n                        $scope.fubuStateHelper.setDefault();\n                    }, $scope.options.dismissConfirm);\n                }\n            }\n\n            function clickHandlerDefaultWithoutConfirmElement() {\n                fubuClick();\n            }\n\n            function clickHandlerConfirm() {\n                if (confirmTimeoutPromise !== undefined) {\n                    $timeout.cancel(confirmTimeoutPromise);\n                }\n                fubuClick();\n            }\n\n            var setWorkingTimeoutPromise;\n            function fubuClick() {\n\n                setWorkingTimeoutPromise = $timeout($scope.fubuStateHelper.setWorking, $scope.options.setWorkingTimeout);\n\n                var result = $scope.fubuClick();\n                if (result === false) {\n                    onWorkError();\n                } else if (result === true) {\n                    onWorkSuccess();\n                } else if (result.then !== undefined && typeof result.then === 'function') {\n                    result.then(onWorkSuccess, onWorkError);\n                } else {\n                    throw new Error('fubu-click function must return true, false or a promise');\n                }\n            }\n\n            function errorToDefault() {\n                if (errorTimeoutPromise !== undefined) {\n                    $timeout.cancel(errorTimeoutPromise);\n                }\n                $scope.fubuStateHelper.setDefault();\n            }\n\n            function clickHandlerError() {\n                if ($scope.options.dismissError !== undefined && typeof $scope.options.dismissError === 'function') {\n                    var dismissError = $scope.options.dismissError($scope.$parent);\n                    if (dismissError !== false) {\n                        errorToDefault();\n                    }\n                } else {\n                    if ($scope.options.dismissError !== false) {\n                        errorToDefault();\n                    }\n                }\n            }\n\n            function successToDefault() {\n                if (successTimeoutPromise !== undefined) {\n                    $timeout.cancel(successTimeoutPromise);\n                }\n                $scope.fubuStateHelper.setDefault();\n            }\n\n            function clickHandlerSuccess() {\n                if ($scope.options.dismissSuccess !== undefined && typeof $scope.options.dismissSuccess === 'function') {\n                    var dismissSuccess = $scope.options.dismissSuccess($scope.$parent);\n                    if (dismissSuccess !== false) {\n                        successToDefault();\n                    }\n                } else {\n                    if ($scope.options.dismissSuccess !== false) {\n                        successToDefault();\n                    }\n                }\n            }\n\n            function clickHandlerWorking() {\n            }\n\n            function onClick() {\n                switch ($scope.fubu.state) {\n                    case 'default':\n                        clickHandlerDefault();\n                        break;\n                    case 'confirm':\n                        clickHandlerConfirm();\n                        break;\n                    case 'error':\n                        clickHandlerError();\n                        break;\n                    case 'success':\n                        clickHandlerSuccess();\n                        break;\n                    case 'working':\n                        clickHandlerWorking();\n                        break;\n                }\n\n            }\n\n            $scope.rawClickHandler = function(event) {\n                $scope.$apply(\n                    function(scope) {\n                        onClick();\n                    }\n                )\n            }\n        }\n    ]\n);\n\nangular.module('angular-funky-button').factory(\n    'FunkyButtonLinker',\n    [\n        '$compile', 'funkyButton', 'FunkyButtonOptionsHelper', '$parse',\n        function($compile, funkyButton, FunkyButtonOptionsHelper, $parse) {\n\n            function capitalizeFirstLetter(string) {\n                return string.charAt(0).toUpperCase() + string.slice(1);\n            }\n\n            function linkFunkyElement(scope, element, funkyElement, funkyType) {\n                var wrapperElement = angular.element('<' + funkyElement.nodeName + '></' + funkyElement.nodeName + '>');\n                wrapperElement.attr('ng-show', 'show' + capitalizeFirstLetter(funkyType) + ' === true');\n                $compile(wrapperElement)(scope);\n\n                scope.options['has' + capitalizeFirstLetter(funkyType) + 'Element'] = true;\n\n                if (funkyElement.hasAttribute('fubu-dismiss') === true) {\n                    scope.options['dismiss' + capitalizeFirstLetter(funkyType)] = $parse(funkyElement.getAttribute('fubu-dismiss'));\n                    funkyElement.removeAttribute('fubu-dismiss');\n                }\n\n                if (funkyElement.hasAttribute('fubu-class') === true) {\n                    scope.options.classes[funkyType] = funkyElement.getAttribute('fubu-class');\n                    scope.options['has' + capitalizeFirstLetter(funkyType) + 'Element'] = true;\n                    funkyElement.removeAttribute('fubu-class');\n                }\n\n                funkyElement.removeAttribute('fubu-' + funkyType);\n                wrapperElement.append(funkyElement);\n\n                element.append(wrapperElement);\n            }\n\n            return function(scope, element, attributes, controller, transclude) {\n                element.addClass('funky-button');\n\n                transclude(function(clone) {\n                    angular.forEach(clone, function(funkyElement) {\n\n                        if (funkyElement.nodeType === 1) {\n                            if (funkyElement.hasAttribute('fubu-default') === true) {\n                                linkFunkyElement(scope, element, funkyElement, 'default');\n                            } else if (funkyElement.hasAttribute('fubu-confirm') === true) {\n                                linkFunkyElement(scope, element, funkyElement, 'confirm');\n                            } else if (funkyElement.hasAttribute('fubu-working') === true) {\n                                linkFunkyElement(scope, element, funkyElement, 'working');\n                            } else if (funkyElement.hasAttribute('fubu-success') === true) {\n                                linkFunkyElement(scope, element, funkyElement, 'success');\n                            } else if (funkyElement.hasAttribute('fubu-error') === true) {\n                                linkFunkyElement(scope, element, funkyElement, 'error');\n                            }\n                        }\n\n                    });\n                });\n\n                scope.options = FunkyButtonOptionsHelper.mergeOptions(funkyButton.options, scope.options);\n\n                scope.fubuStateHelper.setDefault();\n\n                element.bind('click', scope.rawClickHandler);\n            }\n        }\n    ]\n);\n\n\nangular.module('angular-funky-button').factory(\n    'FunkyButtonStateHelper',\n    [\n        function() {\n\n            function FunkyButtonStateHelper($scope, $element, options) {\n                this.setDefault = function() {\n                    $element[0].blur();\n\n                    $scope.fubu.state = 'default';\n\n                    $element.removeClass(options.classes.confirm);\n                    $element.removeClass('fubu-confirm');\n                    $element.removeClass(options.classes.working);\n                    $element.removeClass('fubu-working');\n                    $element.removeClass(options.classes.success);\n                    $element.removeClass('fubu-success');\n                    $element.removeClass(options.classes.error);\n                    $element.removeClass('fubu-error');\n\n                    $element.addClass(options.classes.default);\n                    $element.addClass('fubu-default');\n\n                    $scope.showDefault = true;\n                    $scope.showConfirm = false;\n                    $scope.showWorking = false;\n                    $scope.showSuccess = false;\n                    $scope.showError = false;\n                };\n\n                this.setConfirm = function() {\n                    $element[0].blur();\n\n                    $scope.fubu.state = 'confirm';\n\n                    $element.removeClass(options.classes.default);\n                    $element.removeClass('fubu-default');\n                    $element.removeClass(options.classes.working);\n                    $element.removeClass('fubu-working');\n                    $element.removeClass(options.classes.success);\n                    $element.removeClass('fubu-success');\n                    $element.removeClass(options.classes.error);\n                    $element.removeClass('fubu-error');\n\n                    $element.addClass(options.classes.confirm);\n                    $element.addClass('fubu-confirm');\n\n                    $scope.showDefault = false;\n                    $scope.showConfirm = true;\n                    $scope.showWorking = false;\n                    $scope.showSuccess = false;\n                    $scope.showError = false;\n                };\n\n                this.setWorking = function() {\n                    $element[0].blur();\n\n                    $scope.fubu.state = 'working';\n\n                    $element.removeClass(options.classes.default);\n                    $element.removeClass('fubu-default');\n                    $element.removeClass(options.classes.confirm);\n                    $element.removeClass('fubu-confirm');\n                    $element.removeClass(options.classes.success);\n                    $element.removeClass('fubu-success');\n                    $element.removeClass(options.classes.error);\n                    $element.removeClass('fubu-error');\n\n                    $element.addClass(options.classes.working);\n                    $element.addClass('fubu-working');\n\n                    $scope.showDefault = false;\n                    $scope.showConfirm = false;\n                    $scope.showWorking = true;\n                    $scope.showSuccess = false;\n                    $scope.showError = false;\n                };\n\n                this.setSuccess = function() {\n                    $element[0].blur();\n\n                    $scope.fubu.state = 'success';\n\n                    $element.removeClass(options.classes.default);\n                    $element.removeClass('fubu-default');\n                    $element.removeClass(options.classes.confirm);\n                    $element.removeClass('fubu-confirm');\n                    $element.removeClass(options.classes.working);\n                    $element.removeClass('fubu-working');\n                    $element.removeClass(options.classes.error);\n                    $element.removeClass('fubu-error');\n\n                    $element.addClass(options.classes.success);\n                    $element.addClass('fubu-success');\n\n                    $scope.showDefault = false;\n                    $scope.showConfirm = false;\n                    $scope.showWorking = false;\n                    $scope.showSuccess = true;\n                    $scope.showError = false;\n                };\n\n                this.setError = function() {\n                    $element[0].blur();\n\n                    $scope.fubu.state = 'error';\n\n                    $element.removeClass(options.classes.default);\n                    $element.removeClass('fubu-default');\n                    $element.removeClass(options.classes.confirm);\n                    $element.removeClass('fubu-confirm');\n                    $element.removeClass(options.classes.working);\n                    $element.removeClass('fubu-working');\n                    $element.removeClass(options.classes.success);\n                    $element.removeClass('fubu-success');\n\n                    $element.addClass(options.classes.error);\n                    $element.addClass('fubu-error');\n\n                    $scope.showDefault = false;\n                    $scope.showConfirm = false;\n                    $scope.showWorking = false;\n                    $scope.showSuccess = false;\n                    $scope.showError = true;\n                }\n            }\n\n            return FunkyButtonStateHelper;\n        }\n    ]\n);\n\n\nangular.module('angular-funky-button').factory(\n    'FunkyButtonOptionsHelper',\n    function() {\n        return {\n            mergeOptions: function(defaults, options) {\n                var self = this;\n\n                var mergedOptions = angular.copy(defaults);\n\n                if (typeof options === 'object') {\n                    angular.forEach(options, function(value, prop) {\n                        if (typeof prop === 'object') {\n                            mergedOptions[prop] = self.mergeOptions(defaults[prop], prop);\n                        } else {\n                            mergedOptions[prop] = value;\n                        }\n                    });\n                }\n\n                return mergedOptions;\n            }\n        }\n    }\n);\n"],"sourceRoot":"/source/"}